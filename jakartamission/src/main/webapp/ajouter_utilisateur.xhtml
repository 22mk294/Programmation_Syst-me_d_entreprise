<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="jakarta.faces.html" xmlns:f="jakarta.faces.core">

<h:head>
    <title>Ajouter un Utilisateur</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</h:head>

<h:body>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">UDBL - JSF Mission</a>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow">
                    <div class="card-header bg-danger text-white">
                        <h3 class="mb-0">Ajouter un Utilisateur</h3>
                    </div>
                    <div class="card-body">
                        <h:form styleClass="needs-validation">

                            <!-- Messages globaux -->
                            <h:messages globalOnly="true" errorClass="alert alert-danger"
                                infoClass="alert alert-success" warnClass="alert alert-warning" />

                            <!-- Nom d'utilisateur -->
                            <div class="mb-3">
                                <h:outputLabel for="username" value="Nom d'utilisateur :" styleClass="form-label" />
                                <h:inputText id="username" value="#{utilisateurBean.username}" required="true"
                                    styleClass="form-control">
                                    <f:validateLength minimum="3" maximum="50" />
                                </h:inputText>
                                <h:message for="username" styleClass="text-danger small" />
                            </div>

                            <!-- Email -->
                            <div class="mb-3">
                                <h:outputLabel for="email" value="Email :" styleClass="form-label" />
                                <h:inputText id="email" value="#{utilisateurBean.email}" required="true"
                                    styleClass="form-control" />
                                <h:message for="email" styleClass="text-danger small" />
                            </div>

                            <!-- Mot de passe -->
                            <div class="mb-3">
                                <h:outputLabel for="password" value="Mot de passe :" styleClass="form-label" />
                                <h:inputSecret id="password" value="#{utilisateurBean.password}" required="true"
                                    styleClass="form-control">
                                    <f:validateLength minimum="8" />
                                </h:inputSecret>
                                <h:message for="password" styleClass="text-danger small" />
                            </div>

                            <!-- Confirmer le mot de passe -->
                            <div class="mb-3">
                                <h:outputLabel for="confirmPassword" value="Confirmer le mot de passe :"
                                    styleClass="form-label" />
                                <h:inputSecret id="confirmPassword" value="#{utilisateurBean.confirmPassword}"
                                    required="true" styleClass="form-control" />
                                <h:message for="confirmPassword" styleClass="text-danger small" />
                            </div>

                            <!-- Description -->
                            <div class="mb-3">
                                <h:outputLabel for="description" value="Description :" styleClass="form-label" />
                                <h:inputTextarea id="description" value="#{utilisateurBean.description}"
                                    styleClass="form-control" rows="3" />
                                <h:message for="description" styleClass="text-danger small" />
                            </div>

                            <!-- Bouton -->
                            <div class="d-grid">
                                <h:commandButton value="Ajouter" action="#{utilisateurBean.ajouterUtilisateur}"
                                    styleClass="btn btn-danger btn-lg" />
                            </div>

                        </h:form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</h:body>

</html>